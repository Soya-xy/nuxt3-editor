<script setup lang="ts">
import type { IComponents } from '~/composables/editor'

const nxid = useNxId()
definePageMeta({
  layout: 'editor',
})

const editor = useEditor()
// editor.componentsJson = [{ componentName: 'Layouts', name: 'ä¸Šä¸­ä¸‹å¸ƒå±€', componentId: 'editor-nx-7', parentId: null }, { componentName: 'BaseButtonBtn', name: 'æŒ‰é’®', componentId: 'editor-nx-8', parentId: 'editor-nx-7' }, { componentName: 'BaseButtonBtn', name: 'æŒ‰é’®', componentId: 'editor-nx-9', parentId: 'editor-nx-7' }, { componentName: 'BaseButtonBtn', name: 'æŒ‰é’®', componentId: 'editor-nx-10', parentId: 'editor-nx-7' }, { componentName: 'BaseCards', name: 'å¡ç‰‡', componentId: 'editor-nx-11', parentId: 'NX-Editor' }, { componentName: 'BaseTags', name: 'æ ‡ç­¾', componentId: 'editor-nx-12', parentId: 'editor-nx-11' }]
let components = $ref<IComponents[]>([])
watch(
  () => editor.componentsJson,
  () => {
    components = editor.getJson()
    console.log('ğŸš€ ~ file: index.vue:16 ~ components:', components)
  },
  { deep: true, immediate: true },
)
</script>

<template>
  <Render v-if="components?.length > 0" :components="components" />
</template>
